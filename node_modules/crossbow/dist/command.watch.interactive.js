"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var watch_utils_1 = require("./watch.utils");
var Rx = require("rx");
var debug = require("debug")("cb:command.run");
function promptForWatchCommand(cli, input, config) {
    var inquirer = require("inquirer");
    var topLevelWatchers = watch_utils_1.stripBlacklisted(Object.keys(input.watch));
    var prompt = topLevelWatchers.map(function (key) { return ({ name: key, value: key }); });
    var taskSelect = {
        type: "checkbox",
        message: "Select Watchers to run with <space>",
        name: "watch",
        choices: prompt,
        validate: function (answer) {
            if (answer.length < 1) {
                return "You must choose at least one watcher";
            }
            return true;
        }
    };
    return Rx.Observable.fromPromise(inquirer.prompt(taskSelect));
}
exports.default = promptForWatchCommand;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZC53YXRjaC5pbnRlcmFjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tYW5kLndhdGNoLmludGVyYWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsNkNBQStDO0FBQy9DLHVCQUEwQjtBQUMxQixJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQVNqRCxTQUF3QixxQkFBcUIsQ0FBQyxHQUFRLEVBQUUsS0FBb0IsRUFBRSxNQUE2QjtJQUV2RyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDckMsSUFBTSxnQkFBZ0IsR0FBRyw4QkFBZ0IsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3BFLElBQU0sTUFBTSxHQUFHLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxVQUFBLEdBQUcsSUFBSSxPQUFBLENBQUMsRUFBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUMsQ0FBQyxFQUF6QixDQUF5QixDQUFDLENBQUM7SUFFdEUsSUFBTSxVQUFVLEdBQUc7UUFDZixJQUFJLEVBQUUsVUFBVTtRQUNoQixPQUFPLEVBQUUscUNBQXFDO1FBQzlDLElBQUksRUFBRSxPQUFPO1FBQ2IsT0FBTyxFQUFFLE1BQU07UUFDZixRQUFRLEVBQUUsVUFBVSxNQUFnQjtZQUNoQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUNuQixPQUFPLHNDQUFzQyxDQUFDO2FBQ2pEO1lBQ0QsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztLQUNKLENBQUM7SUFFRixPQUFPLEVBQUUsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFlLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztBQUNoRixDQUFDO0FBcEJELHdDQW9CQyJ9