"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var task_transforms_1 = require("./task.transforms");
var _ = require("../lodash.custom");
var debug = require("debug")("cb:task.resolve");
var task_errors_1 = require("./task.errors");
var task_utils_1 = require("./task.utils");
var adaptors = require("./adaptors");
var task_preprocess_1 = require("./task.preprocess");
var task_tree_transforms_1 = require("./task.tree.transforms");
var TaskTypes;
(function (TaskTypes) {
    TaskTypes[TaskTypes["ExternalTask"] = "ExternalTask"] = "ExternalTask";
    TaskTypes[TaskTypes["Adaptor"] = "Adaptor"] = "Adaptor";
    TaskTypes[TaskTypes["TaskGroup"] = "TaskGroup"] = "TaskGroup";
    TaskTypes[TaskTypes["ParentGroup"] = "ParentGroup"] = "ParentGroup";
    TaskTypes[TaskTypes["InlineFunction"] = "InlineFunction"] = "InlineFunction";
})(TaskTypes = exports.TaskTypes || (exports.TaskTypes = {}));
var TaskOriginTypes;
(function (TaskOriginTypes) {
    TaskOriginTypes[TaskOriginTypes["CrossbowConfig"] = "CrossbowConfig"] = "CrossbowConfig";
    TaskOriginTypes[TaskOriginTypes["NpmScripts"] = "NpmScripts"] = "NpmScripts";
    TaskOriginTypes[TaskOriginTypes["FileSystem"] = "FileSystem"] = "FileSystem";
    TaskOriginTypes[TaskOriginTypes["Adaptor"] = "Adaptor"] = "Adaptor";
    TaskOriginTypes[TaskOriginTypes["InlineFunction"] = "InlineFunction"] = "InlineFunction";
    TaskOriginTypes[TaskOriginTypes["InlineArray"] = "InlineArray"] = "InlineArray";
    TaskOriginTypes[TaskOriginTypes["InlineObject"] = "InlineObject"] = "InlineObject";
    TaskOriginTypes[TaskOriginTypes["InlineChildObject"] = "InlineChildObject"] = "InlineChildObject";
})(TaskOriginTypes = exports.TaskOriginTypes || (exports.TaskOriginTypes = {}));
var TaskRunModes;
(function (TaskRunModes) {
    TaskRunModes[TaskRunModes["series"] = "series"] = "series";
    TaskRunModes[TaskRunModes["parallel"] = "parallel"] = "parallel";
})(TaskRunModes = exports.TaskRunModes || (exports.TaskRunModes = {}));
var defaultTask = {
    baseTaskName: "",
    valid: false,
    query: {},
    flags: {},
    subTasks: [],
    inlineFunctions: [],
    externalTasks: [],
    tasks: [],
    parents: [],
    errors: [],
    cbflags: [],
    description: "",
    rawInput: "",
    env: {},
    taskName: undefined,
    runMode: TaskRunModes.series,
    skipped: false,
    ifChanged: [],
    options: {}
};
function mergeOptions(incoming) {
    return function (task) {
        return _.merge(task, {
            env: incoming.env,
            options: _.merge({}, _.get(incoming.options, "_default", {}), _.get(incoming.options, incoming.subTasks.slice(), {})),
            flags: incoming.flags,
            query: incoming.query
        });
    };
}
function fromInlineItems(incoming, current, name, parents, trigger) {
    if (parents.indexOf(name) > -1) {
        return createCircularReferenceTask(incoming, parents);
    }
    if (Array.isArray(current)) {
        var thisParents_1 = parents.concat(incoming.baseTaskName);
        var name_1 = "ParallelGroup(" + current.toString().slice(0, 20) + "...";
        var task = createTask({
            baseTaskName: name_1,
            taskName: name_1,
            runMode: TaskRunModes.parallel,
            tasks: current.map(function (x) { return createFlattenedTask(x, thisParents_1, trigger); }),
            parents: thisParents_1,
            valid: true,
            type: TaskTypes.TaskGroup
        });
        return task;
    }
    return createFlattenedTask(current, parents.concat(name), trigger);
}
var count = 0;
/**
 * Entry point for resolving the task tree from any given point
 */
function createFlattenedTask(taskItem, parents, trigger) {
    /** DEBUG **/
    debug("resolving ('" + typeof taskItem + "') " + taskItem);
    /** DEBUG-END **/
    /**
     * We first 'preprocess' the task in order to
     * handle different types of task input. Supported:
     *  - string
     *  - function
     *  - object literal
     * @type {Task}
     */
    var incoming = task_preprocess_1.preprocessTask(taskItem, trigger, parents);
    /** DEBUG **/
    debug("preprocessed '" + taskItem + "'", incoming);
    /** DEBUG-END **/
    /**
     * We exit very quickly if the pre-process step has delivered
     * an 'adaptor' task - which means that's nothing left to determine.
     */
    if (incoming.type === TaskTypes.Adaptor) {
        return incoming;
    }
    if (incoming.type === TaskTypes.ParentGroup) {
        var subtask = incoming.subTasks[0];
        var topLevelValue_1 = _.get(trigger.input.tasks, ["(" + incoming.baseTaskName + ")"], {});
        var toResolve = (subtask === "*") ? Object.keys(topLevelValue_1) : [subtask];
        if (incoming.tasks.length) {
            var combinedName_1 = incoming.baseTaskName + ":" + incoming.subTasks[0];
            incoming.tasks = [].concat(incoming.tasks)
                .map(function (x) { return fromInlineItems(incoming, x, combinedName_1, parents, trigger); })
                .map(mergeOptions(incoming));
        }
        else {
            incoming.tasks = toResolve.reduce(function (acc, x) {
                var match = _.get(topLevelValue_1, [x]);
                if (match) {
                    var combinedName_2 = incoming.baseTaskName + ":" + x;
                    return acc.concat([].concat(match)
                        .map(function (x) { return fromInlineItems(incoming, x, combinedName_2, parents, trigger); }));
                }
                return acc;
            }, []);
        }
    }
    if (incoming.origin === TaskOriginTypes.InlineObject || incoming.origin === TaskOriginTypes.InlineChildObject) {
        // todo top level object lookup
        if (incoming.tasks) {
            var taskItems = incoming.tasks;
            incoming.tasks = [].concat(taskItems)
                .map(function (x) { return fromInlineItems(incoming, x, incoming.baseTaskName, parents, trigger); });
        }
    }
    if (incoming.type !== TaskTypes.ParentGroup && incoming.origin !== TaskOriginTypes.InlineChildObject) {
        var toplevelValue = getTopLevelValue(incoming.baseTaskName, trigger.input);
        if (incoming.baseTaskName === 'parallel-tasks') {
            // console.log('ere', incoming.baseTaskName, incoming.tasks, toplevelValue);
        }
        if (toplevelValue) {
            incoming.tasks = [].concat(toplevelValue)
                .map(function (x) { return fromInlineItems(incoming, x, incoming.baseTaskName, parents, trigger); })
                .map(function (out) {
                if (incoming.runMode === TaskRunModes.parallel) {
                    if (out.tasks.length > 1 || out.subTasks.length > 1) {
                        out.runMode = incoming.runMode;
                    }
                }
                return out;
            });
        }
        else {
            // console.log('ere', incoming.baseTaskName);
        }
    }
    /**
     * @type {CBFunction[]}
     */
    incoming.inlineFunctions = (function () {
        if (incoming.inlineFunctions.length)
            return incoming.inlineFunctions;
        if (incoming.tasks.length)
            return [];
        var toplevel = getTopLevelValue(incoming.baseTaskName, trigger.input);
        if (typeof toplevel === "function") {
            return [toplevel];
        }
        return [];
    })();
    /**
     * @type {ExternalTask[]}
     */
    incoming.externalTasks = (function () {
        if (incoming.tasks.length)
            return [];
        if (incoming.inlineFunctions.length)
            return [];
        return task_utils_1.locateModule(trigger.config, incoming.baseTaskName);
    })();
    debug("externalTasks: " + JSON.stringify(incoming.externalTasks[0]));
    /**
     * Set task types
     * @type {TaskTypes}
     */
    incoming.type = (function () {
        if (typeof incoming.type !== "undefined")
            return incoming.type;
        if (incoming.externalTasks.length) {
            return TaskTypes.ExternalTask;
        }
        if (incoming.inlineFunctions.length) {
            return TaskTypes.InlineFunction;
        }
        return TaskTypes.TaskGroup;
    })();
    debug("type: " + incoming.type);
    /**
     * @type {boolean}
     */
    incoming.valid = (function () {
        if (incoming.type === TaskTypes.ParentGroup) {
            if (incoming.tasks.length) {
                return true;
            }
        }
        if (incoming.type === TaskTypes.TaskGroup)
            return true;
        if (incoming.type === TaskTypes.InlineFunction)
            return true;
        if (incoming.type === TaskTypes.ExternalTask)
            return true;
        return false;
    })();
    debug("valid: " + incoming.valid);
    /**
     * Now apply any transformations
     * @type {Task}
     */
    incoming = task_transforms_1.applyTransforms(incoming);
    /**
     * Collect errors
     * @type {TaskError[]}
     */
    incoming.errors = task_errors_1.gatherTaskErrors(incoming, trigger);
    debug("errors: " + incoming.errors);
    /**
     * Add parents array (for detecting circular references);
     * @type {string[]}
     */
    incoming.parents = parents;
    return incoming;
}
/**
 * Factory for creating a new Task Item
 * @param {object} obj
 * @returns {object}
 */
function createTask(obj) {
    return _.mergeWith({}, defaultTask, obj, function customizer(objValue, srcValue) {
        if (_.isArray(objValue)) {
            return objValue.concat(srcValue);
        }
    });
}
exports.createTask = createTask;
/**
 * When a circular reference is detected, exit with the appropriate error
 */
function createCircularReferenceTask(incoming, parents) {
    return _.merge({}, defaultTask, incoming, {
        errors: [{
                type: task_errors_1.TaskErrorTypes.CircularReference,
                incoming: incoming,
                parents: parents
            }]
    });
}
exports.createCircularReferenceTask = createCircularReferenceTask;
/**
 * Match a task name with a top-level value from 'tasks'
 */
function getTopLevelValue(baseTaskName, input) {
    var exactMatch = input.tasks[baseTaskName];
    if (exactMatch !== undefined) {
        return exactMatch;
    }
    var maybeGroup = Object.keys(input.tasks)
        .filter(function (x) { return x.indexOf("(" + baseTaskName + ")") > -1; });
    if (maybeGroup.length) {
        return input.tasks[maybeGroup[0]];
    }
    var maybes = Object.keys(input.tasks)
        .filter(function (x) { return !task_utils_1.isParentGroupName(x); })
        .filter(function (taskName) { return taskName.match(new RegExp("^" + baseTaskName + "($|@(.+?))")) !== null; });
    if (maybes.length) {
        return input.tasks[maybes[0]];
    }
    return undefined;
}
exports.getTopLevelValue = getTopLevelValue;
/**
 * Anything that begins @ is always an adaptor and will skip
 * file i/o etc.
 * @param taskName
 * @param parents
 * @returns {Task}
 */
function createAdaptorTask(taskName, parents) {
    taskName = task_utils_1.removeTrailingNewlines(taskName);
    /**
     * Strip the first part of the task name.
     *  eg: `@npm eslint`
     *   ->  eslint
     * @type {string}
     */
    var commandInput = taskName.replace(/^@(.+?) /, "");
    /**
     * Get a valid adaptors adaptor name
     * @type {string|undefined}
     */
    var validAdaptorName = Object.keys(adaptors).filter(function (x) {
        return taskName.match(new RegExp("^@" + x + " "));
    })[0];
    /**
     * If it was not valid, return a simple
     * task that will be invalid
     */
    if (!validAdaptorName) {
        return createTask({
            rawInput: taskName,
            taskName: taskName,
            type: TaskTypes.Adaptor,
            origin: TaskOriginTypes.Adaptor,
            adaptor: taskName.split(" ")[0],
            errors: [{
                    type: task_errors_1.TaskErrorTypes.AdaptorNotFound,
                    taskName: taskName
                }]
        });
    }
    return createTask({
        baseTaskName: taskName,
        valid: true,
        adaptor: validAdaptorName,
        taskName: taskName,
        rawInput: taskName,
        parents: parents,
        command: commandInput,
        runMode: TaskRunModes.series,
        origin: TaskOriginTypes.Adaptor,
        type: TaskTypes.Adaptor,
    });
}
exports.createAdaptorTask = createAdaptorTask;
/**
 * Look at a hash and determine if the incoming 'taskName'
 * could match a valid taskName.
 * eg:
 *  $ crossbow run shane
 *
 * -> matches:   'shane' & 'shane@p'
 */
function maybeTaskNames(tasks, taskName) {
    return Object.keys(tasks).reduce(function (all, key) {
        var match = key.match(new RegExp("^" + taskName + "@(.+)"));
        if (match) {
            return tasks[key];
        }
        return all;
    }, []);
}
exports.maybeTaskNames = maybeTaskNames;
/**
 * Attempt to match a task-name from within the various 'inputs'
 * given
 */
function pullTaskFromInput(taskName, input) {
    if (input.tasks[taskName] !== undefined) {
        return { items: [].concat(input.tasks[taskName]), origin: TaskOriginTypes.CrossbowConfig };
    }
    /**
     * Next, look at the top-level input,
     * is this taskname going to match, and if so, does it contain any flags?
     */
    var maybes = maybeTaskNames(input.tasks, taskName);
    if (maybes.length) {
        return { items: maybes, origin: TaskOriginTypes.CrossbowConfig };
    }
    return { items: [], origin: TaskOriginTypes.CrossbowConfig };
}
/**
 * A task is valid if every child eventually resolves to
 * having a module or has a adaptors helper
 */
function validateTask(task, trigger) {
    /**
     * Return early if a task has previously
     * been marked as invalid
     */
    if (task.valid === false) {
        return false;
    }
    /**
     * If the task has errors attached, it's always invalid
     */
    if (task.errors.length) {
        return false;
    }
    /**
     * If this task has subtasks in the `task.tasks` Array
     * return the result of validating each of those.
     */
    if (task.tasks.length) {
        return task.tasks.every(function (t) {
            return validateTask(t, trigger);
        });
    }
    /**
     * The final chance for a task to be deemed valid
     * is when `task.adaptors` is set to a string.
     *  eg: lint: '@npm eslint'
     *   -> true
     */
    if (typeof task.adaptor === "string") {
        /**
         * task.adaptor is a string, but does it match any adaptors?
         * If it does, return the result of running the
         * validate method from the adaptor
         */
        if (adaptors[task.adaptor]) {
            return adaptors[task.adaptor].validate.apply(null, [task, trigger]);
        }
    }
    /**
     * If this task was set to InlineFunction, it's always valid
     * (as there's a function to call)
     */
    if (task.type === TaskTypes.InlineFunction) {
        return true;
    }
    /**
     * If the task has external modules associated
     * with it, it's always valid (as it has things to run)
     */
    if (task.type === TaskTypes.ExternalTask) {
        return true;
    }
    /**
     * In the case where `task.modules` has a length (meaning a JS file was found)
     * and there are NO sub tasks to validate, this means the current
     * task is ALWAYS valid so we can return true;
     */
    if (task.externalTasks.length && !task.tasks.length) {
        return true;
    }
}
function resolveTasks(taskCollection, trigger) {
    /**
     * Now begin making the nested task tree
     */
    var taskList = taskCollection
        .map(function (task) {
        return createFlattenedTask(task, [], trigger);
    });
    /**
     * Now apply any last-minute tree transformations
     */
    taskList = task_tree_transforms_1.applyTreeTransforms(taskList);
    /**
     * Return both valid & invalid tasks. We want to let consumers
     * handle errors/successes
     * @type {{valid: Array, invalid: Array}}
     */
    var output = {
        valid: taskList.filter(function (x) { return validateTask(x, trigger); }),
        invalid: taskList.filter(function (x) { return !validateTask(x, trigger); }),
        all: taskList
    };
    return output;
}
exports.resolveTasks = resolveTasks;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFzay5yZXNvbHZlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3Rhc2sucmVzb2x2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHFEQUFrRDtBQUNsRCxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUN0QyxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUdsRCw2Q0FBK0Q7QUFDL0QsMkNBRXNCO0FBQ3RCLHFDQUF1QztBQUV2QyxxREFBc0Y7QUFJdEYsK0RBQTJEO0FBZTNELElBQVksU0FNWDtBQU5ELFdBQVksU0FBUztJQUNqQixzQ0FBb0IsY0FBYyxrQkFBQSxDQUFBO0lBQ2xDLGlDQUFlLFNBQVMsYUFBQSxDQUFBO0lBQ3hCLG1DQUFpQixXQUFXLGVBQUEsQ0FBQTtJQUM1QixxQ0FBbUIsYUFBYSxpQkFBQSxDQUFBO0lBQ2hDLHdDQUFzQixnQkFBZ0Isb0JBQUEsQ0FBQTtBQUMxQyxDQUFDLEVBTlcsU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUFNcEI7QUFFRCxJQUFZLGVBU1g7QUFURCxXQUFZLGVBQWU7SUFDdkIsb0RBQXNCLGdCQUFnQixvQkFBQSxDQUFBO0lBQ3RDLGdEQUFrQixZQUFZLGdCQUFBLENBQUE7SUFDOUIsZ0RBQWtCLFlBQVksZ0JBQUEsQ0FBQTtJQUM5Qiw2Q0FBZSxTQUFTLGFBQUEsQ0FBQTtJQUN4QixvREFBc0IsZ0JBQWdCLG9CQUFBLENBQUE7SUFDdEMsaURBQW1CLGFBQWEsaUJBQUEsQ0FBQTtJQUNoQyxrREFBb0IsY0FBYyxrQkFBQSxDQUFBO0lBQ2xDLHVEQUF5QixtQkFBbUIsdUJBQUEsQ0FBQTtBQUNoRCxDQUFDLEVBVFcsZUFBZSxHQUFmLHVCQUFlLEtBQWYsdUJBQWUsUUFTMUI7QUFFRCxJQUFZLFlBR1g7QUFIRCxXQUFZLFlBQVk7SUFDcEIsc0NBQWMsUUFBUSxZQUFBLENBQUE7SUFDdEIsd0NBQWdCLFVBQVUsY0FBQSxDQUFBO0FBQzlCLENBQUMsRUFIVyxZQUFZLEdBQVosb0JBQVksS0FBWixvQkFBWSxRQUd2QjtBQUVELElBQU0sV0FBVyxHQUFTO0lBQ3RCLFlBQVksRUFBRSxFQUFFO0lBQ2hCLEtBQUssRUFBRSxLQUFLO0lBQ1osS0FBSyxFQUFFLEVBQUU7SUFDVCxLQUFLLEVBQUUsRUFBRTtJQUNULFFBQVEsRUFBRSxFQUFFO0lBQ1osZUFBZSxFQUFFLEVBQUU7SUFDbkIsYUFBYSxFQUFFLEVBQUU7SUFDakIsS0FBSyxFQUFFLEVBQUU7SUFDVCxPQUFPLEVBQUUsRUFBRTtJQUNYLE1BQU0sRUFBRSxFQUFFO0lBQ1YsT0FBTyxFQUFFLEVBQUU7SUFDWCxXQUFXLEVBQUUsRUFBRTtJQUNmLFFBQVEsRUFBRSxFQUFFO0lBQ1osR0FBRyxFQUFFLEVBQUU7SUFDUCxRQUFRLEVBQUUsU0FBUztJQUNuQixPQUFPLEVBQUUsWUFBWSxDQUFDLE1BQU07SUFDNUIsT0FBTyxFQUFFLEtBQUs7SUFDZCxTQUFTLEVBQUUsRUFBRTtJQUNiLE9BQU8sRUFBRSxFQUFFO0NBQ2QsQ0FBQztBQUVGLFNBQVMsWUFBWSxDQUFDLFFBQVE7SUFDMUIsT0FBTyxVQUFVLElBQVU7UUFDdkIsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRTtZQUNqQixHQUFHLEVBQUUsUUFBUSxDQUFDLEdBQUc7WUFDakIsT0FBTyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUNmLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQ3ZDLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBTSxRQUFRLENBQUMsUUFBUSxVQUFHLEVBQUUsQ0FBQyxDQUN0RDtZQUNELEtBQUssRUFBRSxRQUFRLENBQUMsS0FBSztZQUNyQixLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUs7U0FDeEIsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDO0FBQ04sQ0FBQztBQUVELFNBQVMsZUFBZSxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPO0lBQzlELElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtRQUM1QixPQUFPLDJCQUEyQixDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztLQUN6RDtJQUNELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtRQUN4QixJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUMxRCxJQUFNLE1BQUksR0FBRyxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDeEUsSUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDO1lBQ3BCLFlBQVksRUFBRSxNQUFJO1lBQ2xCLFFBQVEsRUFBRSxNQUFJO1lBQ2QsT0FBTyxFQUFFLFlBQVksQ0FBQyxRQUFRO1lBQzlCLEtBQUssRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsbUJBQW1CLENBQUMsQ0FBQyxFQUFFLGFBQVcsRUFBRSxPQUFPLENBQUMsRUFBNUMsQ0FBNEMsQ0FBQztZQUNyRSxPQUFPLEVBQUUsYUFBVztZQUNwQixLQUFLLEVBQUUsSUFBSTtZQUNYLElBQUksRUFBRSxTQUFTLENBQUMsU0FBUztTQUM1QixDQUFDLENBQUM7UUFDSCxPQUFPLElBQUksQ0FBQztLQUNmO0lBQ0QsT0FBTyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN2RSxDQUFDO0FBRUQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO0FBQ2Q7O0dBRUc7QUFDSCxTQUFTLG1CQUFtQixDQUFDLFFBQTBCLEVBQUUsT0FBaUIsRUFBRSxPQUF1QjtJQUUvRixhQUFhO0lBQ2IsS0FBSyxDQUFDLGlCQUFlLE9BQU8sUUFBUSxXQUFNLFFBQVUsQ0FBQyxDQUFDO0lBQ3RELGlCQUFpQjtJQUVqQjs7Ozs7OztPQU9HO0lBQ0gsSUFBSSxRQUFRLEdBQUcsZ0NBQWMsQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBRTFELGFBQWE7SUFDYixLQUFLLENBQUMsbUJBQWlCLFFBQVEsTUFBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzlDLGlCQUFpQjtJQUVqQjs7O09BR0c7SUFDSCxJQUFJLFFBQVEsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLE9BQU8sRUFBRTtRQUNyQyxPQUFPLFFBQVEsQ0FBQztLQUNuQjtJQUVELElBQUksUUFBUSxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsV0FBVyxFQUFFO1FBQ3pDLElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckMsSUFBTSxlQUFhLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQUksUUFBUSxDQUFDLFlBQVksTUFBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDckYsSUFBTSxTQUFTLEdBQUcsQ0FBQyxPQUFPLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFN0UsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUN2QixJQUFNLGNBQVksR0FBTSxRQUFRLENBQUMsWUFBWSxTQUFJLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFHLENBQUM7WUFDeEUsUUFBUSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7aUJBQ3JDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLGNBQVksRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLEVBQTVELENBQTRELENBQUM7aUJBQ3RFLEdBQUcsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztTQUNwQzthQUFNO1lBQ0gsUUFBUSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQ3JDLElBQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsZUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDeEMsSUFBSSxLQUFLLEVBQUU7b0JBQ1AsSUFBTSxjQUFZLEdBQU0sUUFBUSxDQUFDLFlBQVksU0FBSSxDQUFHLENBQUM7b0JBQ3JELE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FDYixFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQzt5QkFDWCxHQUFHLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxjQUFZLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUE1RCxDQUE0RCxDQUFDLENBQUMsQ0FBQztpQkFDcEY7Z0JBQ0QsT0FBTyxHQUFHLENBQUM7WUFDZixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDVjtLQUNKO0lBRUQsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLGVBQWUsQ0FBQyxZQUFZLElBQUksUUFBUSxDQUFDLE1BQU0sS0FBSyxlQUFlLENBQUMsaUJBQWlCLEVBQUU7UUFDM0csK0JBQStCO1FBQy9CLElBQUksUUFBUSxDQUFDLEtBQUssRUFBRTtZQUNoQixJQUFNLFNBQVMsR0FBUSxRQUFRLENBQUMsS0FBSyxDQUFDO1lBQ3RDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7aUJBQ2hDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxZQUFZLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFyRSxDQUFxRSxDQUFDLENBQUM7U0FDeEY7S0FDSjtJQUVELElBQUksUUFBUSxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsV0FBVyxJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssZUFBZSxDQUFDLGlCQUFpQixFQUFFO1FBRWxHLElBQU0sYUFBYSxHQUFHLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRTdFLElBQUksUUFBUSxDQUFDLFlBQVksS0FBSyxnQkFBZ0IsRUFBRTtZQUM1Qyw0RUFBNEU7U0FDL0U7UUFFRCxJQUFJLGFBQWEsRUFBRTtZQUNmLFFBQVEsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUM7aUJBQ3BDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxZQUFZLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFyRSxDQUFxRSxDQUFDO2lCQUMvRSxHQUFHLENBQUMsVUFBQSxHQUFHO2dCQUNKLElBQUksUUFBUSxDQUFDLE9BQU8sS0FBSyxZQUFZLENBQUMsUUFBUSxFQUFFO29CQUM1QyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7d0JBQ2pELEdBQUcsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztxQkFDbEM7aUJBQ0o7Z0JBQ0QsT0FBTyxHQUFHLENBQUM7WUFDZixDQUFDLENBQUMsQ0FBQztTQUNWO2FBQU07WUFDSCw2Q0FBNkM7U0FDaEQ7S0FDSjtJQUVEOztPQUVHO0lBQ0gsUUFBUSxDQUFDLGVBQWUsR0FBRyxDQUFDO1FBQ3hCLElBQUksUUFBUSxDQUFDLGVBQWUsQ0FBQyxNQUFNO1lBQUUsT0FBTyxRQUFRLENBQUMsZUFBZSxDQUFDO1FBQ3JFLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNO1lBQVksT0FBTyxFQUFFLENBQUM7UUFDL0MsSUFBTSxRQUFRLEdBQUcsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEUsSUFBSSxPQUFPLFFBQVEsS0FBSyxVQUFVLEVBQUU7WUFDaEMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3JCO1FBQ0QsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDLENBQUMsRUFBRSxDQUFDO0lBRUw7O09BRUc7SUFDSCxRQUFRLENBQUMsYUFBYSxHQUFHLENBQUM7UUFDdEIsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU07WUFBWSxPQUFPLEVBQUUsQ0FBQztRQUMvQyxJQUFJLFFBQVEsQ0FBQyxlQUFlLENBQUMsTUFBTTtZQUFFLE9BQU8sRUFBRSxDQUFDO1FBQy9DLE9BQU8seUJBQVksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMvRCxDQUFDLENBQUMsRUFBRSxDQUFDO0lBRUwsS0FBSyxDQUFDLG9CQUFrQixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUcsQ0FBQyxDQUFDO0lBRXJFOzs7T0FHRztJQUNILFFBQVEsQ0FBQyxJQUFJLEdBQUcsQ0FBQztRQUNiLElBQUksT0FBTyxRQUFRLENBQUMsSUFBSSxLQUFLLFdBQVc7WUFBRSxPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUM7UUFDL0QsSUFBSSxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRTtZQUMvQixPQUFPLFNBQVMsQ0FBQyxZQUFZLENBQUM7U0FDakM7UUFDRCxJQUFJLFFBQVEsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFO1lBQ2pDLE9BQU8sU0FBUyxDQUFDLGNBQWMsQ0FBQztTQUNuQztRQUNELE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQztJQUMvQixDQUFDLENBQUMsRUFBRSxDQUFDO0lBRUwsS0FBSyxDQUFDLFdBQVMsUUFBUSxDQUFDLElBQU0sQ0FBQyxDQUFDO0lBRWhDOztPQUVHO0lBQ0gsUUFBUSxDQUFDLEtBQUssR0FBRyxDQUFDO1FBQ2QsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxXQUFXLEVBQUU7WUFDekMsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtnQkFDdkIsT0FBTyxJQUFJLENBQUM7YUFDZjtTQUNKO1FBQ0QsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxTQUFTO1lBQU8sT0FBTyxJQUFJLENBQUM7UUFDNUQsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxjQUFjO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDNUQsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxZQUFZO1lBQUksT0FBTyxJQUFJLENBQUM7UUFDNUQsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUVMLEtBQUssQ0FBQyxZQUFVLFFBQVEsQ0FBQyxLQUFPLENBQUMsQ0FBQztJQUVsQzs7O09BR0c7SUFDSCxRQUFRLEdBQUcsaUNBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUVyQzs7O09BR0c7SUFDSCxRQUFRLENBQUMsTUFBTSxHQUFHLDhCQUFnQixDQUM5QixRQUFRLEVBQ1IsT0FBTyxDQUNWLENBQUM7SUFFRixLQUFLLENBQUMsYUFBVyxRQUFRLENBQUMsTUFBUSxDQUFDLENBQUM7SUFFcEM7OztPQUdHO0lBQ0gsUUFBUSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFFM0IsT0FBTyxRQUFRLENBQUM7QUFDcEIsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFnQixVQUFVLENBQUMsR0FBUTtJQUMvQixPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLFdBQVcsRUFBRSxHQUFHLEVBQUUsU0FBUyxVQUFVLENBQUMsUUFBUSxFQUFFLFFBQVE7UUFDM0UsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3JCLE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUNwQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQU5ELGdDQU1DO0FBRUQ7O0dBRUc7QUFDSCxTQUFnQiwyQkFBMkIsQ0FBQyxRQUFjLEVBQUUsT0FBaUI7SUFDekUsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFO1FBQ3RDLE1BQU0sRUFBRSxDQUF5QjtnQkFDN0IsSUFBSSxFQUFFLDRCQUFjLENBQUMsaUJBQWlCO2dCQUN0QyxRQUFRLEVBQUUsUUFBUTtnQkFDbEIsT0FBTyxFQUFFLE9BQU87YUFDbkIsQ0FBQztLQUNMLENBQUMsQ0FBQztBQUNQLENBQUM7QUFSRCxrRUFRQztBQUVEOztHQUVHO0FBQ0gsU0FBZ0IsZ0JBQWdCLENBQUMsWUFBb0IsRUFBRSxLQUFvQjtJQUV2RSxJQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBRTdDLElBQUksVUFBVSxLQUFLLFNBQVMsRUFBRTtRQUMxQixPQUFPLFVBQVUsQ0FBQztLQUNyQjtJQUVELElBQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztTQUN0QyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQUksWUFBWSxNQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBbkMsQ0FBbUMsQ0FBQyxDQUFDO0lBRXRELElBQUksVUFBVSxDQUFDLE1BQU0sRUFBRTtRQUNuQixPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDckM7SUFFRCxJQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7U0FDbEMsTUFBTSxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyw4QkFBaUIsQ0FBQyxDQUFDLENBQUMsRUFBckIsQ0FBcUIsQ0FBQztTQUNsQyxNQUFNLENBQUMsVUFBQSxRQUFRLElBQUksT0FBQSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLE1BQUksWUFBWSxlQUFZLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBakUsQ0FBaUUsQ0FBQyxDQUFDO0lBRTNGLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtRQUNmLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNqQztJQUVELE9BQU8sU0FBUyxDQUFDO0FBQ3JCLENBQUM7QUF4QkQsNENBd0JDO0FBRUQ7Ozs7OztHQU1HO0FBQ0gsU0FBZ0IsaUJBQWlCLENBQUMsUUFBUSxFQUFFLE9BQU87SUFFL0MsUUFBUSxHQUFHLG1DQUFzQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVDOzs7OztPQUtHO0lBQ0gsSUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFdEQ7OztPQUdHO0lBQ0gsSUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFBLENBQUM7UUFDbkQsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQUssQ0FBQyxNQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2pELENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRU47OztPQUdHO0lBQ0gsSUFBSSxDQUFDLGdCQUFnQixFQUFFO1FBQ25CLE9BQU8sVUFBVSxDQUFDO1lBQ2QsUUFBUSxFQUFFLFFBQVE7WUFDbEIsUUFBUSxFQUFFLFFBQVE7WUFDbEIsSUFBSSxFQUFFLFNBQVMsQ0FBQyxPQUFPO1lBQ3ZCLE1BQU0sRUFBRSxlQUFlLENBQUMsT0FBTztZQUMvQixPQUFPLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0IsTUFBTSxFQUFFLENBQXVCO29CQUMzQixJQUFJLEVBQUUsNEJBQWMsQ0FBQyxlQUFlO29CQUNwQyxRQUFRLEVBQUUsUUFBUTtpQkFDckIsQ0FBQztTQUNMLENBQUMsQ0FBQztLQUNOO0lBRUQsT0FBTyxVQUFVLENBQUM7UUFDZCxZQUFZLEVBQUUsUUFBUTtRQUN0QixLQUFLLEVBQUUsSUFBSTtRQUNYLE9BQU8sRUFBRSxnQkFBZ0I7UUFDekIsUUFBUSxFQUFFLFFBQVE7UUFDbEIsUUFBUSxFQUFFLFFBQVE7UUFDbEIsT0FBTyxFQUFFLE9BQU87UUFDaEIsT0FBTyxFQUFFLFlBQVk7UUFDckIsT0FBTyxFQUFFLFlBQVksQ0FBQyxNQUFNO1FBQzVCLE1BQU0sRUFBRSxlQUFlLENBQUMsT0FBTztRQUMvQixJQUFJLEVBQUUsU0FBUyxDQUFDLE9BQU87S0FDMUIsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQWxERCw4Q0FrREM7QUFFRDs7Ozs7OztHQU9HO0FBQ0gsU0FBZ0IsY0FBYyxDQUFDLEtBQVMsRUFBRSxRQUFnQjtJQUV0RCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxFQUFFLEdBQUc7UUFFL0MsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFJLFFBQVEsVUFBTyxDQUFDLENBQUMsQ0FBQztRQUV6RCxJQUFJLEtBQUssRUFBRTtZQUNQLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3JCO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDWCxDQUFDO0FBWEQsd0NBV0M7QUFFRDs7O0dBR0c7QUFDSCxTQUFTLGlCQUFpQixDQUFDLFFBQWdCLEVBQUUsS0FBb0I7SUFFN0QsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLFNBQVMsRUFBRTtRQUNyQyxPQUFPLEVBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxlQUFlLENBQUMsY0FBYyxFQUFDLENBQUM7S0FDNUY7SUFFRDs7O09BR0c7SUFDSCxJQUFNLE1BQU0sR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztJQUVyRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUU7UUFDZixPQUFPLEVBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxDQUFDLGNBQWMsRUFBQyxDQUFDO0tBQ2xFO0lBRUQsT0FBTyxFQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLGVBQWUsQ0FBQyxjQUFjLEVBQUMsQ0FBQztBQUMvRCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBUyxZQUFZLENBQUMsSUFBVSxFQUFFLE9BQXVCO0lBQ3JEOzs7T0FHRztJQUNILElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLEVBQUU7UUFDdEIsT0FBTyxLQUFLLENBQUM7S0FDaEI7SUFFRDs7T0FFRztJQUNILElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7UUFDcEIsT0FBTyxLQUFLLENBQUM7S0FDaEI7SUFFRDs7O09BR0c7SUFDSCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO1FBQ25CLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO1lBQy9CLE9BQU8sWUFBWSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNwQyxDQUFDLENBQUMsQ0FBQztLQUNOO0lBRUQ7Ozs7O09BS0c7SUFDSCxJQUFJLE9BQU8sSUFBSSxDQUFDLE9BQU8sS0FBSyxRQUFRLEVBQUU7UUFFbEM7Ozs7V0FJRztRQUNILElBQUksUUFBUSxDQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUM3QixPQUFPLFFBQVEsQ0FBTSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUM1RTtLQUNKO0lBRUQ7OztPQUdHO0lBQ0gsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxjQUFjLEVBQUU7UUFDeEMsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUVEOzs7T0FHRztJQUNILElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsWUFBWSxFQUFFO1FBQ3RDLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7SUFFRDs7OztPQUlHO0lBQ0gsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO1FBQ2pELE9BQU8sSUFBSSxDQUFDO0tBQ2Y7QUFDTCxDQUFDO0FBRUQsU0FBZ0IsWUFBWSxDQUFDLGNBQThCLEVBQUUsT0FBdUI7SUFFaEY7O09BRUc7SUFDSCxJQUFJLFFBQVEsR0FBRyxjQUFjO1NBQ3hCLEdBQUcsQ0FBQyxVQUFBLElBQUk7UUFDTCxPQUFPLG1CQUFtQixDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDbEQsQ0FBQyxDQUFDLENBQUM7SUFFUDs7T0FFRztJQUNILFFBQVEsR0FBRywwQ0FBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUV6Qzs7OztPQUlHO0lBQ0gsSUFBTSxNQUFNLEdBQUc7UUFDWCxLQUFLLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLFlBQVksQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLEVBQXhCLENBQXdCLENBQUM7UUFDckQsT0FBTyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLEVBQXpCLENBQXlCLENBQUM7UUFDeEQsR0FBRyxFQUFFLFFBQVE7S0FDaEIsQ0FBQztJQUVGLE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUEzQkQsb0NBMkJDIn0=